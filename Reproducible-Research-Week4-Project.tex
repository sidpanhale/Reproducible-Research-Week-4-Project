% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Reproducible Research Week 4 Project},
  pdfauthor={Siddhesh Panhale},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering

\title{Reproducible Research Week 4 Project}
\author{Siddhesh Panhale}
\date{8/12/2020}

\begin{document}
\maketitle

\textbf{Introduction}

-Storms and other severe weather events can cause both public health and
economic problems for communities and municipalities. Many severe events
can result in fatalities, injuries, and property damage, and preventing
such outcomes to the extent possible is a key concern.

-This project involves exploring the U.S. National Oceanic and
Atmospheric Administration's (NOAA) storm database. This database tracks
characteristics of major storms and weather events in the United States,
including when and where they occur, as well as estimates of any
fatalities, injuries, and property damage.

-The basic goal of this assignment is to explore the NOAA Storm Database
and answer some basic questions about severe weather events.

\textbf{Synopsis}

-This is an exploration of the U.S. National Oceanic and Atmospheric
Administration's (NOAA) storm database.

-This database tracks characteristics of major storms and weather events
in the United States, including when and where they occur, which type of
event, as well as the estimates of relevant fatalities, injuries, and
various forms of damage.

-The dataset used in this project is provided by the U.S. National
Oceanic and Atmospheric Administration (NOAA).

-This analysis discovered that tornados are responsible for a maximum
number of fatalities and injuries.

-This analysis also discoered that floods are responsbile for maximum
property damage, while Droughts cause maximum crop damage.

\textbf{Data Processing}

Loading Libraries

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(knitr)}
\KeywordTok{library}\NormalTok{(plyr)}
\KeywordTok{library}\NormalTok{(ggplot2)}
\KeywordTok{library}\NormalTok{(lattice)}
\KeywordTok{library}\NormalTok{(data.table)}
\KeywordTok{library}\NormalTok{(grid)}
\KeywordTok{library}\NormalTok{(gridExtra)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'gridExtra' was built under R version 4.0.2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(R.utils)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'R.utils' was built under R version 4.0.2
\end{verbatim}

\begin{verbatim}
## Loading required package: R.oo
\end{verbatim}

\begin{verbatim}
## Loading required package: R.methodsS3
\end{verbatim}

\begin{verbatim}
## R.methodsS3 v1.8.0 (2020-02-14 07:10:20 UTC) successfully loaded. See ?R.methodsS3 for help.
\end{verbatim}

\begin{verbatim}
## R.oo v1.23.0 successfully loaded. See ?R.oo for help.
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'R.oo'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:R.methodsS3':
## 
##     throw
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:methods':
## 
##     getClasses, getMethods
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:base':
## 
##     attach, detach, load, save
\end{verbatim}

\begin{verbatim}
## R.utils v2.9.2 successfully loaded. See ?R.utils for help.
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'R.utils'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:utils':
## 
##     timestamp
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:base':
## 
##     cat, commandArgs, getOption, inherits, isOpen, nullfile, parse,
##     warnings
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(rmarkdown)}
\end{Highlighting}
\end{Shaded}

Downloading, Uncompressing and Loading the file

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp <-}\StringTok{ }\KeywordTok{tempfile}\NormalTok{()}

\ControlFlowTok{if}\NormalTok{(}\OperatorTok{!}\KeywordTok{file.exists}\NormalTok{(}\StringTok{"/stormData.csv.bz2"}\NormalTok{))\{}
  \KeywordTok{download.file}\NormalTok{(}\StringTok{"https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2"}\NormalTok{, }\DataTypeTok{destfile=}\StringTok{"./stormData.csv.bz2"}\NormalTok{)}
\NormalTok{\}}
\ControlFlowTok{if}\NormalTok{(}\OperatorTok{!}\KeywordTok{file.exists}\NormalTok{(}\StringTok{"stormdata.csv"}\NormalTok{))}
\NormalTok{\{}
  \KeywordTok{bunzip2}\NormalTok{(}\StringTok{"stormData.csv.bz2"}\NormalTok{,}\StringTok{"stormdata.csv"}\NormalTok{,}\DataTypeTok{remove=}\NormalTok{F)}
\NormalTok{\}}

\NormalTok{storm <-}\StringTok{ }\KeywordTok{read.csv}\NormalTok{(}\StringTok{"stormdata.csv"}\NormalTok{,}\DataTypeTok{header=}\OtherTok{TRUE}\NormalTok{,}\DataTypeTok{sep=}\StringTok{","}\NormalTok{)}
\KeywordTok{summary}\NormalTok{(storm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     STATE__       BGN_DATE           BGN_TIME          TIME_ZONE        
##  Min.   : 1.0   Length:902297      Length:902297      Length:902297     
##  1st Qu.:19.0   Class :character   Class :character   Class :character  
##  Median :30.0   Mode  :character   Mode  :character   Mode  :character  
##  Mean   :31.2                                                           
##  3rd Qu.:45.0                                                           
##  Max.   :95.0                                                           
##                                                                         
##      COUNTY       COUNTYNAME           STATE              EVTYPE         
##  Min.   :  0.0   Length:902297      Length:902297      Length:902297     
##  1st Qu.: 31.0   Class :character   Class :character   Class :character  
##  Median : 75.0   Mode  :character   Mode  :character   Mode  :character  
##  Mean   :100.6                                                           
##  3rd Qu.:131.0                                                           
##  Max.   :873.0                                                           
##                                                                          
##    BGN_RANGE          BGN_AZI           BGN_LOCATI          END_DATE        
##  Min.   :   0.000   Length:902297      Length:902297      Length:902297     
##  1st Qu.:   0.000   Class :character   Class :character   Class :character  
##  Median :   0.000   Mode  :character   Mode  :character   Mode  :character  
##  Mean   :   1.484                                                           
##  3rd Qu.:   1.000                                                           
##  Max.   :3749.000                                                           
##                                                                             
##    END_TIME           COUNTY_END COUNTYENDN       END_RANGE       
##  Length:902297      Min.   :0    Mode:logical   Min.   :  0.0000  
##  Class :character   1st Qu.:0    NA's:902297    1st Qu.:  0.0000  
##  Mode  :character   Median :0                   Median :  0.0000  
##                     Mean   :0                   Mean   :  0.9862  
##                     3rd Qu.:0                   3rd Qu.:  0.0000  
##                     Max.   :0                   Max.   :925.0000  
##                                                                   
##    END_AZI           END_LOCATI            LENGTH              WIDTH         
##  Length:902297      Length:902297      Min.   :   0.0000   Min.   :   0.000  
##  Class :character   Class :character   1st Qu.:   0.0000   1st Qu.:   0.000  
##  Mode  :character   Mode  :character   Median :   0.0000   Median :   0.000  
##                                        Mean   :   0.2301   Mean   :   7.503  
##                                        3rd Qu.:   0.0000   3rd Qu.:   0.000  
##                                        Max.   :2315.0000   Max.   :4400.000  
##                                                                              
##        F               MAG            FATALITIES          INJURIES        
##  Min.   :0.0      Min.   :    0.0   Min.   :  0.0000   Min.   :   0.0000  
##  1st Qu.:0.0      1st Qu.:    0.0   1st Qu.:  0.0000   1st Qu.:   0.0000  
##  Median :1.0      Median :   50.0   Median :  0.0000   Median :   0.0000  
##  Mean   :0.9      Mean   :   46.9   Mean   :  0.0168   Mean   :   0.1557  
##  3rd Qu.:1.0      3rd Qu.:   75.0   3rd Qu.:  0.0000   3rd Qu.:   0.0000  
##  Max.   :5.0      Max.   :22000.0   Max.   :583.0000   Max.   :1700.0000  
##  NA's   :843563                                                           
##     PROPDMG         PROPDMGEXP           CROPDMG         CROPDMGEXP       
##  Min.   :   0.00   Length:902297      Min.   :  0.000   Length:902297     
##  1st Qu.:   0.00   Class :character   1st Qu.:  0.000   Class :character  
##  Median :   0.00   Mode  :character   Median :  0.000   Mode  :character  
##  Mean   :  12.06                      Mean   :  1.527                     
##  3rd Qu.:   0.50                      3rd Qu.:  0.000                     
##  Max.   :5000.00                      Max.   :990.000                     
##                                                                           
##      WFO             STATEOFFIC         ZONENAMES            LATITUDE   
##  Length:902297      Length:902297      Length:902297      Min.   :   0  
##  Class :character   Class :character   Class :character   1st Qu.:2802  
##  Mode  :character   Mode  :character   Mode  :character   Median :3540  
##                                                           Mean   :2875  
##                                                           3rd Qu.:4019  
##                                                           Max.   :9706  
##                                                           NA's   :47    
##    LONGITUDE        LATITUDE_E     LONGITUDE_       REMARKS         
##  Min.   :-14451   Min.   :   0   Min.   :-14455   Length:902297     
##  1st Qu.:  7247   1st Qu.:   0   1st Qu.:     0   Class :character  
##  Median :  8707   Median :   0   Median :     0   Mode  :character  
##  Mean   :  6940   Mean   :1452   Mean   :  3509                     
##  3rd Qu.:  9605   3rd Qu.:3549   3rd Qu.:  8735                     
##  Max.   : 17124   Max.   :9706   Max.   :106220                     
##                   NA's   :40                                        
##      REFNUM      
##  Min.   :     1  
##  1st Qu.:225575  
##  Median :451149  
##  Mean   :451149  
##  3rd Qu.:676723  
##  Max.   :902297  
## 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{names}\NormalTok{(storm)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "STATE__"    "BGN_DATE"   "BGN_TIME"   "TIME_ZONE"  "COUNTY"    
##  [6] "COUNTYNAME" "STATE"      "EVTYPE"     "BGN_RANGE"  "BGN_AZI"   
## [11] "BGN_LOCATI" "END_DATE"   "END_TIME"   "COUNTY_END" "COUNTYENDN"
## [16] "END_RANGE"  "END_AZI"    "END_LOCATI" "LENGTH"     "WIDTH"     
## [21] "F"          "MAG"        "FATALITIES" "INJURIES"   "PROPDMG"   
## [26] "PROPDMGEXP" "CROPDMG"    "CROPDMGEXP" "WFO"        "STATEOFFIC"
## [31] "ZONENAMES"  "LATITUDE"   "LONGITUDE"  "LATITUDE_E" "LONGITUDE_"
## [36] "REMARKS"    "REFNUM"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{variables<-}\KeywordTok{c}\NormalTok{(}\StringTok{"EVTYPE"}\NormalTok{,}\StringTok{"FATALITIES"}\NormalTok{,}\StringTok{"INJURIES"}\NormalTok{,}\StringTok{"PROPDMG"}\NormalTok{, }\StringTok{"PROPDMGEXP"}\NormalTok{,}\StringTok{"CROPDMG"}\NormalTok{,}\StringTok{"CROPDMGEXP"}\NormalTok{)}
\NormalTok{strmdata<-storm[variables]}

\KeywordTok{dim}\NormalTok{(strmdata)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 902297      7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{names}\NormalTok{(strmdata)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "EVTYPE"     "FATALITIES" "INJURIES"   "PROPDMG"    "PROPDMGEXP"
## [6] "CROPDMG"    "CROPDMGEXP"
\end{verbatim}

\textbf{Results}

\textbf{1. Across the United States, which types of events (as indicated
in the \color{red}{\verb|EVTYPE|}EVTYPE variable) are most harmful with
respect to population health?}

Reviewing events that cause the most fatalities

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Fatalities <-}\StringTok{ }\KeywordTok{aggregate}\NormalTok{(FATALITIES }\OperatorTok{~}\StringTok{ }\NormalTok{EVTYPE, }\DataTypeTok{data =}\NormalTok{ strmdata, }\DataTypeTok{FUN =}\NormalTok{ sum)}
\NormalTok{Top10_Fatalities <-}\StringTok{ }\NormalTok{Fatalities[}\KeywordTok{order}\NormalTok{(}\OperatorTok{-}\NormalTok{Fatalities}\OperatorTok{$}\NormalTok{FATALITIES), ][}\DecValTok{1}\OperatorTok{:}\DecValTok{10}\NormalTok{, ] }
\NormalTok{Top10_Fatalities }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##             EVTYPE FATALITIES
## 834        TORNADO       5633
## 130 EXCESSIVE HEAT       1903
## 153    FLASH FLOOD        978
## 275           HEAT        937
## 464      LIGHTNING        816
## 856      TSTM WIND        504
## 170          FLOOD        470
## 585    RIP CURRENT        368
## 359      HIGH WIND        248
## 19       AVALANCHE        224
\end{verbatim}

Reviewing events that cause the most injuries

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Injuries <-}\StringTok{ }\KeywordTok{aggregate}\NormalTok{(INJURIES }\OperatorTok{~}\StringTok{ }\NormalTok{EVTYPE, }\DataTypeTok{data =}\NormalTok{ strmdata, }\DataTypeTok{FUN =}\NormalTok{ sum)}
\NormalTok{Top10_Injuries <-}\StringTok{ }\NormalTok{Injuries[}\KeywordTok{order}\NormalTok{(}\OperatorTok{-}\NormalTok{Injuries}\OperatorTok{$}\NormalTok{INJURIES), ][}\DecValTok{1}\OperatorTok{:}\DecValTok{10}\NormalTok{, ] }
\NormalTok{Top10_Injuries}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                EVTYPE INJURIES
## 834           TORNADO    91346
## 856         TSTM WIND     6957
## 170             FLOOD     6789
## 130    EXCESSIVE HEAT     6525
## 464         LIGHTNING     5230
## 275              HEAT     2100
## 427         ICE STORM     1975
## 153       FLASH FLOOD     1777
## 760 THUNDERSTORM WIND     1488
## 244              HAIL     1361
\end{verbatim}

Plot of Top 10 Fatalities \& Injuries for Weather Event Types

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{par}\NormalTok{(}\DataTypeTok{mfrow=}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{),}\DataTypeTok{mar=}\KeywordTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\KeywordTok{barplot}\NormalTok{(Top10_Fatalities}\OperatorTok{$}\NormalTok{FATALITIES,}\DataTypeTok{names.arg=}\NormalTok{Top10_Fatalities}\OperatorTok{$}\NormalTok{EVTYPE,}\DataTypeTok{las=}\DecValTok{2}\NormalTok{,}\DataTypeTok{col=}\StringTok{"red"}\NormalTok{,}\DataTypeTok{ylab=}\StringTok{"fatalities"}\NormalTok{,}\DataTypeTok{main=}\StringTok{"Top 10 fatalities"}\NormalTok{)}
\KeywordTok{barplot}\NormalTok{(Top10_Injuries}\OperatorTok{$}\NormalTok{INJURIES,}\DataTypeTok{names.arg=}\NormalTok{Top10_Injuries}\OperatorTok{$}\NormalTok{EVTYPE,}\DataTypeTok{las=}\DecValTok{2}\NormalTok{,}\DataTypeTok{col=}\StringTok{"red"}\NormalTok{,}\DataTypeTok{ylab=}\StringTok{"injuries"}\NormalTok{,}\DataTypeTok{main=}\StringTok{"Top 10 Injuries"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{Reproducible-Research-Week4-Project_files/figure-latex/unnamed-chunk-5-1.pdf}

\textbf{2. Across the United States, which types of events have the
greatest economic consequences?}

Getting Property damage

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{unique}\NormalTok{(strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "K" "M" ""  "B" "m" "+" "0" "5" "6" "?" "4" "2" "3" "h" "7" "H" "-" "1" "8"
\end{verbatim}

Assigning values for the property exponent and setting 0 to invalid
exponent strmdata

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "K"}\NormalTok{] <-}\StringTok{ }\DecValTok{1000}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "M"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+06}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ ""}\NormalTok{] <-}\StringTok{ }\DecValTok{1}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "B"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+09}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "m"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+06}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "0"}\NormalTok{] <-}\StringTok{ }\DecValTok{1}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "5"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+05}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "6"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+06}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "4"}\NormalTok{] <-}\StringTok{ }\DecValTok{10000}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "2"}\NormalTok{] <-}\StringTok{ }\DecValTok{100}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "3"}\NormalTok{] <-}\StringTok{ }\DecValTok{1000}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "h"}\NormalTok{] <-}\StringTok{ }\DecValTok{100}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "7"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+07}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "H"}\NormalTok{] <-}\StringTok{ }\DecValTok{100}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "1"}\NormalTok{] <-}\StringTok{ }\DecValTok{10}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "8"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+08}

\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "+"}\NormalTok{] <-}\StringTok{ }\DecValTok{0}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "-"}\NormalTok{] <-}\StringTok{ }\DecValTok{0}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP[strmdata}\OperatorTok{$}\NormalTok{PROPDMGEXP }\OperatorTok{==}\StringTok{ "?"}\NormalTok{] <-}\StringTok{ }\DecValTok{0}

\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPDMGVAL <-}\StringTok{ }\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPDMG }\OperatorTok{*}\StringTok{ }\NormalTok{strmdata}\OperatorTok{$}\NormalTok{PROPEXP}
\end{Highlighting}
\end{Shaded}

Getting Crop damage

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{unique}\NormalTok{(strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] ""  "M" "K" "m" "B" "?" "0" "k" "2"
\end{verbatim}

Assigning values for the crop exponent and setting 0 to invalid exponent
strmdata

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "M"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+06}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "K"}\NormalTok{] <-}\StringTok{ }\DecValTok{1000}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "m"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+06}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "B"}\NormalTok{] <-}\StringTok{ }\FloatTok{1e+09}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "0"}\NormalTok{] <-}\StringTok{ }\DecValTok{1}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "k"}\NormalTok{] <-}\StringTok{ }\DecValTok{1000}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "2"}\NormalTok{] <-}\StringTok{ }\DecValTok{100}
\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ ""}\NormalTok{] <-}\StringTok{ }\DecValTok{1}

\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP[strmdata}\OperatorTok{$}\NormalTok{CROPDMGEXP }\OperatorTok{==}\StringTok{ "?"}\NormalTok{] <-}\StringTok{ }\DecValTok{0}

\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPDMGVAL <-}\StringTok{ }\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPDMG }\OperatorTok{*}\StringTok{ }\NormalTok{strmdata}\OperatorTok{$}\NormalTok{CROPEXP}
\end{Highlighting}
\end{Shaded}

Property Damage Summary

Procedure = aggregate the property damage by the event type and sort the
output it in descending order

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{prop <-}\StringTok{ }\KeywordTok{aggregate}\NormalTok{(PROPDMGVAL}\OperatorTok{~}\NormalTok{EVTYPE,}\DataTypeTok{data=}\NormalTok{strmdata,}\DataTypeTok{FUN=}\NormalTok{sum,}\DataTypeTok{na.rm=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{prop <-}\StringTok{ }\NormalTok{prop[}\KeywordTok{with}\NormalTok{(prop,}\KeywordTok{order}\NormalTok{(}\OperatorTok{-}\NormalTok{PROPDMGVAL)),]}
\NormalTok{prop <-}\StringTok{ }\KeywordTok{head}\NormalTok{(prop,}\DecValTok{10}\NormalTok{)}
\KeywordTok{print}\NormalTok{(prop)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                EVTYPE   PROPDMGVAL
## 170             FLOOD 144657709807
## 411 HURRICANE/TYPHOON  69305840000
## 834           TORNADO  56947380617
## 670       STORM SURGE  43323536000
## 153       FLASH FLOOD  16822673979
## 244              HAIL  15735267513
## 402         HURRICANE  11868319010
## 848    TROPICAL STORM   7703890550
## 972      WINTER STORM   6688497251
## 359         HIGH WIND   5270046260
\end{verbatim}

Crop Damage Summary

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{crop <-}\StringTok{ }\KeywordTok{aggregate}\NormalTok{(CROPDMGVAL}\OperatorTok{~}\NormalTok{EVTYPE,}\DataTypeTok{data=}\NormalTok{strmdata,}\DataTypeTok{FUN=}\NormalTok{sum,}\DataTypeTok{na.rm=}\OtherTok{TRUE}\NormalTok{)}
\NormalTok{crop <-}\StringTok{ }\NormalTok{crop[}\KeywordTok{with}\NormalTok{(crop,}\KeywordTok{order}\NormalTok{(}\OperatorTok{-}\NormalTok{CROPDMGVAL)),]}
\NormalTok{crop <-}\StringTok{ }\KeywordTok{head}\NormalTok{(crop,}\DecValTok{10}\NormalTok{)}
\KeywordTok{print}\NormalTok{(crop)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##                EVTYPE  CROPDMGVAL
## 95            DROUGHT 13972566000
## 170             FLOOD  5661968450
## 590       RIVER FLOOD  5029459000
## 427         ICE STORM  5022113500
## 244              HAIL  3025954473
## 402         HURRICANE  2741910000
## 411 HURRICANE/TYPHOON  2607872800
## 153       FLASH FLOOD  1421317100
## 140      EXTREME COLD  1292973000
## 212      FROST/FREEZE  1094086000
\end{verbatim}

Graph showing the top 10 property and crop damages

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{par}\NormalTok{(}\DataTypeTok{mfrow=}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{),}\DataTypeTok{mar=}\KeywordTok{c}\NormalTok{(}\DecValTok{11}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\KeywordTok{barplot}\NormalTok{(prop}\OperatorTok{$}\NormalTok{PROPDMGVAL}\OperatorTok{/}\NormalTok{(}\DecValTok{10}\OperatorTok{^}\DecValTok{9}\NormalTok{),}\DataTypeTok{names.arg=}\NormalTok{prop}\OperatorTok{$}\NormalTok{EVTYPE,}\DataTypeTok{las=}\DecValTok{2}\NormalTok{,}\DataTypeTok{col=}\StringTok{"Red"}\NormalTok{,}\DataTypeTok{ylab=}\StringTok{"Prop.damage(billions)"}\NormalTok{,}\DataTypeTok{main=}\StringTok{"Top10 Prop.Damages"}\NormalTok{)}
\KeywordTok{barplot}\NormalTok{(crop}\OperatorTok{$}\NormalTok{CROPDMGVAL}\OperatorTok{/}\NormalTok{(}\DecValTok{10}\OperatorTok{^}\DecValTok{9}\NormalTok{),}\DataTypeTok{names.arg=}\NormalTok{crop}\OperatorTok{$}\NormalTok{EVTYPE,}\DataTypeTok{las=}\DecValTok{2}\NormalTok{,}\DataTypeTok{col=}\StringTok{"Red"}\NormalTok{,}\DataTypeTok{ylab=}\StringTok{"Crop damage(billions)"}\NormalTok{,}\DataTypeTok{main=}\StringTok{"Top10 Crop.Damages"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{Reproducible-Research-Week4-Project_files/figure-latex/unnamed-chunk-12-1.pdf}

\textbf{Conclusion}

As seen from the graph, we can say that Tornado is responsible for the
maximum number of fatalities and injuries while Floods are responsbile
for maximum property damage and Droughts cause maximum crop damage.

\end{document}
